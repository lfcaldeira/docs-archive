<!DOCTYPE html><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Grouping and classifying nodes</title>
<link rel="stylesheet" type="text/css" href="https://puppet-docs-herrera.netlify.app/css/fonts.css">
<link rel="stylesheet" type="text/css" href="https://puppet-docs-herrera.netlify.app/css/docs.css">
<meta name="prodname" content="pe">
<meta name="version" content="2016.4">
</head>
<body>


<div class="pm-site-secondary">
  <div class="container pm-site-secondary__wrapper">

    <section>
      <div class="pm-site-secondary__satellite">
        <nav>
          <div class="pm-site-secondary__satellite-menu"><ul class="pm-site-secondary__satellite-menu__items items">
<li class="item"><a href="/">Puppet.com</a></li>
<li class="item"><a href="https://forge.puppet.com/">Forge</a></li>
<li class="item"><a href="https://learn.puppet.com/">Compass</a></li>
<li><div class="button-wrapper">
                                <a href="/try-puppet/" class="pm-button pm-button--purple">
                                    Try Puppet
                                </a><!-- This URL might change -->
                              </div></li>
</ul></div>
<!-- Content generated with JS -->
        </nav>
      </div>
    </section>

  </div>
</div>
<header id="pm-site-header" class="pm-site-header">
  <div class="container pm-site-header__wrapper">
    <section>
      <div class="pm-site-header__primary">
        <div class="pm-site-header__logo">
          <a href="/" class="pm-link">
            <svg width="124" height="52" viewbox="0 0 124 52" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g>
                <path d="M50.1614 50.451H56.2668V18.8085H50.1614V30.4919C49.1846 29.3236 47.0355 28.2039 44.691 28.2039C38.3414 28.2039 34.7759 33.3641 34.7759 39.5952C34.7759 45.8264 38.3414 50.9379 44.691 50.9379C47.0355 50.9379 49.1846 49.8182 50.1614 48.6499V50.451ZM50.1614 43.1489C49.4776 44.658 47.8658 45.6803 46.0586 45.6803C42.7861 45.6803 40.8324 43.0516 40.8324 39.5952C40.8324 36.0902 42.7861 33.4614 46.0586 33.4614C47.817 33.4614 49.4776 34.5324 50.1614 35.9928V43.1489Z" fill="#222629"></path>
                <path d="M79.88 39.5952C79.88 32.8773 75.533 28.2039 69.1834 28.2039C62.8338 28.2039 58.4868 32.8773 58.4868 39.5952C58.4868 46.2645 62.8338 50.9379 69.1834 50.9379C75.533 50.9379 79.88 46.2645 79.88 39.5952ZM73.8723 39.5952C73.8723 43.1976 72.2117 45.8264 69.1834 45.8264C66.1552 45.8264 64.4945 43.1976 64.4945 39.5952C64.4945 35.9442 66.1552 33.3154 69.1834 33.3154C72.2117 33.3154 73.8723 35.9442 73.8723 39.5952Z" fill="#222629"></path>
                <path d="M82.1001 39.5952C82.1001 46.3132 86.3983 50.9379 92.6013 50.9379C98.0717 50.9379 101.54 47.7736 102.175 43.1003H96.2157C95.8738 44.7554 94.555 45.7777 92.6013 45.7777C89.8173 45.7777 88.1078 43.2463 88.1078 39.5952C88.1078 35.8955 89.8173 33.3641 92.6013 33.3641C94.555 33.3641 95.8738 34.3864 96.2157 36.0415H102.175C101.54 31.4169 98.0717 28.2039 92.6013 28.2039C86.3983 28.2039 82.1001 32.8286 82.1001 39.5952Z" fill="#222629"></path>
                <path d="M104.395 43.9765C105.029 48.4065 108.79 50.9379 114.115 50.9379C119.194 50.9379 123.053 48.3091 123.053 43.8791C123.053 40.5689 121.05 38.4756 117.241 37.5506L112.747 36.5283C111.38 36.1876 110.793 35.7008 110.793 34.8245C110.793 33.4614 112.21 32.7799 113.675 32.7799C115.678 32.7799 116.703 33.7049 117.094 34.9219H122.858C122.125 30.8327 119.097 28.2039 113.577 28.2039C108.693 28.2039 104.883 31.0274 104.883 35.2626C104.883 38.9137 107.227 40.6175 110.549 41.3964L114.945 42.37C116.459 42.7595 117.143 43.2463 117.143 44.2199C117.143 45.6317 115.922 46.3619 114.066 46.3619C112.259 46.3619 110.891 45.5343 110.402 43.9765H104.395Z" fill="#222629"></path>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M4.44027 39.8298H8.88053V35.4043H4.44027V39.8298ZM4.44027 8.85106H8.88053V4.42553H4.44027V8.85106ZM28.8617 28.766V15.4894H18.8711L13.3208 9.95745V0H0V13.2766H9.9906L15.5409 18.8085V25.4468L9.9906 30.9787H0V44.2553H13.3208V34.2979L18.8711 28.766H28.8617Z" fill="#FFAE1A"></path>
              </g>
            </svg>
          </a>
        </div>

        <nav class="pm-site-header__primary-nav">
          <button title="Show or hide navigation" class="pm-site-header__primary-menu__hamburger" id="pm-site-header__primary-menu__hamburger">
            <span class="pm-site-header__primary-menu__hamburger__frame">
              <span class="pm-site-header__primary-menu__hamburger__inner"></span>
            </span>
          </button>

          <div class="pm-site-header__primary-menu">
<nav class="pm-site-header__primary-menu__nav ">
                    <button class="pm-link pm-link--unstyled pm-button--empty">
        Docs
        <span class="item-chevron">
          <svg width="14" height="9" viewbox="0 0 14 9" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M7.00016 4.9763L10.8217 1.15481C11.4725 0.503938 12.5278 0.503938 13.1787 1.15481C13.8295 1.80569 13.8295 2.86096 13.1787 3.51183L8.17867 8.51183C7.5278 9.16271 6.47252 9.16271 5.82165 8.51183L0.821651 3.51183C0.170778 2.86096 0.170778 1.80569 0.821651 1.15481C1.47253 0.503938 2.5278 0.503938 3.17867 1.15481L7.00016 4.9763Z" fill="#ffaeia"></path>
            </svg>
        </span>
      </button>
                    <ul class="pm-site-header__primary-menu__nav-dropdown">
<li class="heading">Products</li>
<li class="link"><a href="/docs/pe/latest">Puppet Enterprise</a></li>
<li class="link"><a href="/docs/puppet/latest/">Open Source Puppet</a></li>
<li class="link"><a href="/docs/bolt/latest/">Bolt</a></li>
<li class="link"><a href="/docs/pdk/latest/">Puppet Development Kit</a></li>
<li class="link"><a href="/docs/puppetdb/latest/">Puppet DB</a></li>
<li class="link"><a href="/docs/remediate/latest/">Puppet Remediate</a></li>
<li class="link"><a href="/docs/vro/">Puppet Plugin for VMware</a></li>
</ul>
                </nav><nav class="pm-site-header__primary-menu__nav ">
                    <button class="pm-link pm-link--unstyled pm-button--empty">
        Support
        <span class="item-chevron">
          <svg width="14" height="9" viewbox="0 0 14 9" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M7.00016 4.9763L10.8217 1.15481C11.4725 0.503938 12.5278 0.503938 13.1787 1.15481C13.8295 1.80569 13.8295 2.86096 13.1787 3.51183L8.17867 8.51183C7.5278 9.16271 6.47252 9.16271 5.82165 8.51183L0.821651 3.51183C0.170778 2.86096 0.170778 1.80569 0.821651 1.15481C1.47253 0.503938 2.5278 0.503938 3.17867 1.15481L7.00016 4.9763Z" fill="#ffaeia"></path>
            </svg>
        </span>
      </button>
                    <ul class="pm-site-header__primary-menu__nav-dropdown">
<li class="heading">Get</li>
<li class="link"><a href="/pe/latest">Technical Support Plans</a></li>
<li class="link"><a href="/puppet/latest/">Support Lifecycle Policy</a></li>
<li class="link"><a href="/bolt/latest/">New Puppet Enterprise Customer?</a></li>
</ul>
                </nav><nav class="pm-site-header__primary-menu__nav is-last-nav-child">
                    <button class="pm-link pm-link--unstyled pm-button--empty">
        Community
        <span class="item-chevron">
          <svg width="14" height="9" viewbox="0 0 14 9" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M7.00016 4.9763L10.8217 1.15481C11.4725 0.503938 12.5278 0.503938 13.1787 1.15481C13.8295 1.80569 13.8295 2.86096 13.1787 3.51183L8.17867 8.51183C7.5278 9.16271 6.47252 9.16271 5.82165 8.51183L0.821651 3.51183C0.170778 2.86096 0.170778 1.80569 0.821651 1.15481C1.47253 0.503938 2.5278 0.503938 3.17867 1.15481L7.00016 4.9763Z" fill="#ffaeia"></path>
            </svg>
        </span>
      </button>
                    <ul class="pm-site-header__primary-menu__nav-dropdown">
<li class="heading">About Puppet</li>
<li class="link"><a href="/pe/latest">TBD...</a></li>
<li class="link"><a href="/puppet/latest/">TBD...</a></li>
<li class="heading">Community</li>
<li class="link"><a href="/pe/latest">Puppet Champions</a></li>
<li class="link"><a href="/puppet/latest/">Puppet Test Pilots</a></li>
<li class="link"><a href="/puppet/latest/">Community Office Hours</a></li>
<li class="link"><a href="/puppet/latest/">Slack Channel</a></li>
</ul>
                </nav><button id="pm-site-header__primary-menu__search" class="pm-site-header__primary-menu__search pm-link--unstyled pm-button--empty">
            <svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="pm-site-header__primary-menu__search-icon">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M0 10.5C0 16.4257 4.73529 21 10.5 21C16.2647 21 21 16.4257 21 10.5C21 4.78218 16.2647 0 10.5 0C4.73529 0 0 4.78218 0 10.5ZM3 10.5C3 14.7327 6.38235 18 10.5 18C14.6176 18 18 14.7327 18 10.5C18 6.41584 14.6176 3 10.5 3C6.38235 3 3 6.41584 3 10.5Z" fill="#222629"></path>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M16.409 16.409C17.2877 15.5303 18.7123 15.5303 19.591 16.409L23.341 20.159C24.2197 21.0377 24.2197 22.4623 23.341 23.341C22.4623 24.2197 21.0377 24.2197 20.159 23.341L16.409 19.591C15.5303 18.7123 15.5303 17.2877 16.409 16.409Z" fill="#222629"></path>
            </svg>
          </button>
</div> <!-- Content generated with JS -->

        </nav>
      </div>
<!-- End pm-site-header__primary -->
    </section>

    <div class="pm-site-header__divider"></div>

  </div>
<!-- End pm-site-header__wrapper -->
</header><!-- End pm-site-header -->
<div class="container docs-search-inpage">
  <div class="pm-search-wrapper">
    <div class="pm-input">
      <!-- Search Form -->
      <div id="pm-search-box" class="pm-search-box"></div>
      <!-- /Search Form -->
    </div>
    <div class="pm-grid pm-grid--has-gutter" id="pm-search-content">
      <div class="pm-column pm-column--base-span-12 pm-pagination-wrapper">
        <!-- Pagination -->
        <div id="pm-pagination"></div>
        <!-- /Pagination -->
      </div>
      <div class="pm-column pm-column--base-span-12 pm-column--above-sm-span-6 pm-hits-wrapper">
        <!-- Search Results -->
        <ul id="pm-hits"></ul>
        <!-- /Search Results -->
      </div>
      <div class="pm-column pm-column--base-span-12 pm-column--above-sm-span-4 pm-refinement-product-wrapper">
        <!-- Product Refinement List -->
        <div id="pm-product" data-title="Product"></div>
        <!-- /Product Refinement List -->
      </div>
      <div class="pm-column pm-column--base-span-12 pm-column--above-sm-span-2 pm-refinement-version-wrapper">
        <!-- Version Refinement List -->
        <div id="pm-version" data-title="Version"></div>
        <!-- /Refinement List -->
      </div>
    </div>
  </div>
</div>
<div class="container" id="content"><div class="row">
<nav role="toc" class="pm-product-version-select__nav">
	<div class="pm-product-version-select"> <h4 class="pm-product-version-select__header">PRODUCT AND VERSION</h4>
  <div class="pm-product-version-select__type">
    <button id="product-type-select-button" class="pm-product-version-select__type-select-button pm-link pm-link--unstyled pm-button--empty">
      Current product
      <svg width="14" height="9" viewbox="0 0 14 9" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M7.00016 4.9763L10.8217 1.15481C11.4725 0.503938 12.5278 0.503938 13.1787 1.15481C13.8295 1.80569 13.8295 2.86096 13.1787 3.51183L8.17867 8.51183C7.5278 9.16271 6.47252 9.16271 5.82165 8.51183L0.821651 3.51183C0.170778 2.86096 0.170778 1.80569 0.821651 1.15481C1.47253 0.503938 2.5278 0.503938 3.17867 1.15481L7.00016 4.9763Z"></path>
      </svg>
    </button>

    <ul class="pm-product-version-select__type-options"></ul>
<!-- Content Generated by JS -->
  </div>
<!-- End pm-product-version-select -->

  <!-- Version Select -->
  <div class="pm-product-version-select__version">
    <button id="product-version-select-button" class="pm-product-version-select__version-select-button pm-link pm-link--unstyled pm-button--empty">
      Current version
      <svg width="14" height="9" viewbox="0 0 14 9" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M7.00016 4.9763L10.8217 1.15481C11.4725 0.503938 12.5278 0.503938 13.1787 1.15481C13.8295 1.80569 13.8295 2.86096 13.1787 3.51183L8.17867 8.51183C7.5278 9.16271 6.47252 9.16271 5.82165 8.51183L0.821651 3.51183C0.170778 2.86096 0.170778 1.80569 0.821651 1.15481C1.47253 0.503938 2.5278 0.503938 3.17867 1.15481L7.00016 4.9763Z"></path>
      </svg>
    </button>

    <ul class="pm-product-version-select__version-options"></ul>
<!-- Content Generated by JS -->
  </div>
</div>



  <ul class="pm-product-menu-item"><li>
    <ul class="pm-product-menu-item__children">
      <li><a href="./overview_about_pe.html">Welcome to PE</a></li>
      <li><a href="./pe_architecture_overview.html">PE architecture overview</a></li>
      <li><a href="./overview_version_table.html">Component versions in recent PE releases</a></li>
      <li><a href="./overview_getting_support.html">Getting support</a></li>
      <li><a href="./pe_versioning.html">PE version numbers</a></li>
    </ul>
  </li></ul>
  <ul class="pm-product-menu-item"><li>
    <ul class="pm-product-menu-item__children">
      <li><a href="./release_notes.html">New features and enhancements</a></li>
      <li class="has-children">
        <ul>
          <li><a href="./release_notes_known_issues_install.html">Install and upgrade</a></li>
          <li><a href="./release_notes_known_issues_console.html">PE console and console services</a></li>
          <li><a href="./release_notes_known_issues_puppetserver.html">Puppet Server</a></li>
          <li><a href="./release_notes_known_issues_puppetdb.html">Databases and PostgreSQL</a></li>
          <li><a href="./release_notes_known_issues_app.html">Orchestration services</a></li>
          <li><a href="./release_notes_known_issues_core.html">PE services and Puppet core</a></li>
          <li><a href="./release_notes_known_issues_platforms.html">Supported platforms</a></li>
          <li><a href="./release_notes_known_issues_razor.html">Razor</a></li>
          <li><a href="./release_notes_known_issues_codemgmt.html">Code management</a></li>
          <li><a href="./release_notes_known_issues_utf8.html">UTF-8</a></li>
        </ul>
      </li>
      <li><a href="./release_notes_resolved_issues.html">Resolved issues</a></li>
    </ul>
  </li></ul>
  <ul class="pm-product-menu-item"><li><a href="./puppet_overview.html">Puppet platform documentation</a></li></ul>
  <ul class="pm-product-menu-item"><li>
    <ul class="pm-product-menu-item__children">
      <li class="has-children">
        <ul>
          <li><a href="./quick_start_install_mono.html">1: Install PE</a></li>
          <li><a href="./quick_start_install_agents_nix.html">2: Install agents</a></li>
          <li><a href="./quick_start_module_install_nix.html">3: Module install</a></li>
          <li><a href="./quick_start_adding_class_nix.html">4: Add classes</a></li>
          <li><a href="./quick_start_nc_rbac.html">5: Give users access</a></li>
          <li><a href="./quick_writing_nix.html">6: Write modules</a></li>
        </ul>
      </li>
      <li class="has-children">
        <ul>
          <li><a href="./quick_start_install_mono.html">1: Install PE</a></li>
          <li><a href="./quick_start_install_agents_windows.html">2: Install agents</a></li>
          <li><a href="./quick_start_module_install_windows.html">3: Module install</a></li>
          <li><a href="./quick_start_adding_class_windows.html">4: Classify agents</a></li>
          <li><a href="./quick_start_rbac_windows.html">5: Assign user access</a></li>
          <li><a href="./quick_writing_windows.html">6: Write modules</a></li>
        </ul>
      </li>
      <li class="has-children">
        <ul>
          <li><a href="./quick_start_ntp.html">NTP quick start guide</a></li>
          <li><a href="./quick_start_dns.html">DNS quick start guide</a></li>
          <li><a href="./quick_start_ssh.html">SSH quick start guide</a></li>
          <li><a href="./quick_start_sudo.html">Sudo quick start guide</a></li>
          <li><a href="./quick_start_firewall.html">Firewall quick start guide</a></li>
        </ul>
      </li>
    </ul>
  </li></ul>
  <ul class="pm-product-menu-item"><li>
    <ul class="pm-product-menu-item__children">
      <li><a href="./windows_installing.html">Installing PE for a Windows environment</a></li>
      <li><a href="./windows_basic_tasks.html">Basic tasks and concepts in Windows</a></li>
      <li><a href="./windows_config_mgmnt.html">Managing Windows configurations</a></li>
      <li><a href="./windows_modules.html">Installing and using Windows modules</a></li>
      <li><a href="./troubleshooting_windows.html">Troubleshooting Puppet on Windows</a></li>
    </ul>
  </li></ul>
  <ul class="pm-product-menu-item"><li>
    <ul class="pm-product-menu-item__children">
      <li class="has-children">
        <ul>
          <li><a href="./sys_req_hw.html">Hardware requirements</a></li>
          <li><a href="./sys_req_os.html">Supported operating systems</a></li>
          <li><a href="./sys_req_browsers.html">Supported browsers</a></li>
          <li><a href="./sys_req_sysconfig.html">System config and firewall requirements</a></li>
        </ul>
      </li>
      <li><a href="./install_what_and_where.html">What gets installed where?</a></li>
      <li><a href="./install_basic.html">Downloading PE and installing overview</a></li>
      <li><a href="./install_pe_mono.html">Web-based installation: monolithic</a></li>
      <li class="has-children">
        <ul>
          <li><a href="./install_text_mode.html">Text-mode installation overview</a></li>
          <li><a href="./install_text_mode_mono.html">Text-mode installation: monolithic</a></li>
          <li><a href="./install_text_mode_split.html">Text-mode installation: split</a></li>
          <li><a href="./install_pe_conf_param.html">Configuration settings in pe.conf</a></li>
        </ul>
      </li>
      <li><a href="./install_license_key.html">Installing PE license key</a></li>
      <li class="has-children">
        <ul>
          <li><a href="./install_agents.html">Installing agents: *nix</a></li>
          <li><a href="./install_windows.html">Installing agents: Windows</a></li>
          <li><a href="./install_osx.html">Installing agents: Mac OS X</a></li>
        </ul>
      </li>
      <li class="has-children">
        <ul>
          <li><a href="./install_eos.html">Installing agents: Arista EOS</a></li>
          <li><a href="./install_nxos.html">Installing agents: Cisco NS-OX</a></li>
          <li><a href="./install_iosxr.html">Installing agents: Cisco IOS-XR</a></li>
          <li><a href="./install_cumulus.html">Installing agents: Cumulus Linux</a></li>
        </ul>
      </li>
      <li><a href="./install_multimaster.html">Installing compile masters</a></li>
      <li><a href="./install_lei_load.html">Load balancing compile masters</a></li>
      <li><a href="./install_add_activemq.html">Installing ActiveMQ hubs and spokes</a></li>
      <li><a href="./install_pe_client_tools.html">Installing PE client tools</a></li>
      <li><a href="./install_uninstalling.html">Uninstalling PE</a></li>
      <li><a href="./install_separate_pe_postgres.html">Installing standalone PE-PostgreSQL</a></li>
      <li class="has-children">
        <ul>
          <li><a href="./sys_req_extsql.html">External PostgreSQL prep</a></li>
          <li><a href="./install_ssl_postgresql.html">SSL for PE and external PostgreSQL</a></li>
          <li><a href="./install_external_postgresql.html">PE and external PostgreSQL without root access</a></li>
        </ul>
      </li>
    </ul>
  </li></ul>
  <ul class="pm-product-menu-item"><li>
    <ul class="pm-product-menu-item__children">
      <li><a href="./upgrade_mono.html">Upgrading PE: monolithic</a></li>
      <li><a href="./upgrade_split.html">Upgrading PE: split</a></li>
      <li><a href="./install_upgrading_agents.html">Upgrading PE agents: *nix</a></li>
      <li><a href="./upgrade_windows.html">Upgrading PE agents: Windows</a></li>
      <li><a href="./install_lei_upgrade.html">Upgrading large environment installations</a></li>
    </ul>
  </li></ul>
  <ul class="pm-product-menu-item"><li>
    <ul class="pm-product-menu-item__children">
      <li><a href="./migrate_pe_catalog_preview.html">Preparing for Migration to PE 2016.4</a></li>
      <li><a href="./migrate_monolithic.html">Migrating from PE 3.8 to 2016.4: monolithic</a></li>
      <li><a href="./migrate_notes.html">Migrating: important notes</a></li>
      <li><a href="./install_upgrading_path_changes.html">Major path changes</a></li>
    </ul>
  </li></ul>
  <ul class="pm-product-menu-item"><li>
    <ul class="pm-product-menu-item__children">
      <li><a href="./config_intro.html">Your PE infrastructure</a></li>
      <li><a href="./config_puppetserver.html">Tuning Puppet Server</a></li>
      <li><a href="./puppet_server_config_files.html">Puppet Server config files</a></li>
      <li><a href="./console_config.html">Tuning the console</a></li>
      <li><a href="./config_puppetdb.html">Tuning PuppetDB</a></li>
      <li><a href="./config_orchestration.html">Tuning orchestration</a></li>
      <li><a href="./config_java_args.html">Java arguments For PE</a></li>
      <li><a href="./config_ulimit.html">Configuring ulimit for PE services</a></li>
      <li><a href="./config_monolithic.html">Tuning mono installs (reference)</a></li>
      <li><a href="./config_hocon.html">Writing configuration files</a></li>
      <li><a href="./analytics_opt_out.html">Opt out of Puppet data collection</a></li>
      <li><a href="./static_catalogs.html">Static catalogs</a></li>
    </ul>
  </li></ul>
  <ul class="pm-product-menu-item"><li>
    <ul class="pm-product-menu-item__children">
      <li><a href="./CM_overview.html">Monitor and analyze infrastructure state</a></li>
      <li><a href="./CM_graph.html">Explore your catalog with the node graph</a></li>
      <li><a href="./CM_events.html">Analyze changes across Puppet runs</a></li>
      <li><a href="./CM_reports.html">Infrastructure reports</a></li>
      <li><a href="./puppet_server_metrics.html">Monitoring Puppet Server metrics</a></li>
      <li><a href="./status_api.html">Monitoring PE services</a></li>
    </ul>
  </li></ul>
  <ul class="pm-product-menu-item active"><li>
    <ul class="pm-product-menu-item__children">
      <li><a href="./console_cert_mgmt.html">Managing node requests</a></li>
      <li><a href="./console_classes_groups_running_puppet.html">Running Puppet on agent nodes</a></li>
      <li><a href="./console_classes_groups_getting_started.html">Getting started with classification</a></li>
      <li class="active"><a href="./console_classes_groups.html">Grouping and classifying nodes</a></li>
      <li class="has-children">
        <ul>
          <li><a href="./r_n_p_intro.html">Introduction</a></li>
          <li><a href="./r_n_p_full_example.html">A complete example</a></li>
          <li><a href="./r_n_p_profiles.html">Designing advanced profiles</a></li>
          <li><a href="./r_n_p_roles.html">Designing convenient roles</a></li>
        </ul>
      </li>
      <li><a href="./nodes_viewing.html">Viewing node-specific information</a></li>
      <li><a href="./console_classes_groups_making_changes.html">Making changes to node groups</a></li>
      <li><a href="./node_deactivation.html">Removing nodes</a></li>
      <li><a href="./console_classes_groups_preconfigured_groups.html">Preconfigured node groups</a></li>
      <li><a href="./console_classes_groups_inheritance.html">How does inheritance work?</a></li>
      <li><a href="./console_classes_groups_environment_override.html">Working with environments</a></li>
      <li class="has-children">
        <ul>
          <li><a href="./nc_index.html">Endpoints</a></li>
          <li><a href="./nc_forming_requests.html">Forming node classifier requests</a></li>
          <li class="has-children">
            <ul>
              <li><a href="./nc_groups_example.html">Groups endpoint examples</a></li>
            </ul>
          </li>
          <li><a href="./nc_classes.html">Classes</a></li>
          <li><a href="./nc_classification.html">Classification</a></li>
          <li><a href="./nc_commands.html">Commands</a></li>
          <li><a href="./nc_environments.html">Environments</a></li>
          <li><a href="./nc_nodes.html">Node history</a></li>
          <li><a href="./nc_groups_children.html">Group children</a></li>
          <li><a href="./nc_rules.html">Rules</a></li>
          <li><a href="./nc_import-hierarchy.html">Importing node classifier hierarchy</a></li>
          <li><a href="./nc_last_class_update.html">Last class</a></li>
          <li><a href="./nc_update_classes.html">Updating node classifier classes</a></li>
          <li><a href="./nc_validate.html">Validating node classifier endpoints</a></li>
          <li><a href="./nc_errors.html">Node classifier errors</a></li>
        </ul>
      </li>
    </ul>
  </li></ul>
  <ul class="pm-product-menu-item"><li>
    <ul class="pm-product-menu-item__children">
      <li><a href="./console_accessing.html">Accessing the console</a></li>
      <li><a href="./rbac_intro.html">Role-based access control</a></li>
      <li><a href="./rbac_ldap.html">Connecting PE with external directory services</a></li>
      <li><a href="./rbac_permissions.html">About RBAC permissions</a></li>
      <li><a href="./rbac_user_roles.html">Creating and managing users and user roles</a></li>
      <li><a href="./rbac_token_auth.html">Token-based authentication</a></li>
      <li><a href="./deploy_nonroot-agent.html">Running agents without root privileges</a></li>
      <li class="has-children">
        <ul>
          <li><a href="./rbac_serviceindex_v1.html">Endpoints</a></li>
          <li><a href="./rbac_forming_requests_v1.html">Forming RBAC requests</a></li>
          <li><a href="./rbac_users_v1.html">Users</a></li>
          <li><a href="./rbac_usergroups_v1.html">User groups</a></li>
          <li><a href="./rbac_roles_v1.html">Roles</a></li>
          <li><a href="./rbac_permissionsref_v1.html">Permissions</a></li>
          <li><a href="./rbac_token_v1.html">Authentication tokens</a></li>
          <li><a href="./rbac_dsref_v1.html">Directory service</a></li>
          <li><a href="./rbac_passwords_v1.html">Passwords</a></li>
          <li><a href="./rbac_serviceerrors_v1.html">Errors</a></li>
          <li><a href="./rbac_config_v1.html">Configuration options</a></li>
        </ul>
      </li>
      <li class="has-children">
        <ul>
          <li><a href="./rbac_serviceindex_v2.html">Endpoints</a></li>
          <li><a href="./rbac_revoke_token_v2.html">Revoke tokens</a></li>
        </ul>
      </li>
      <li class="has-children">
        <ul>
          <li><a href="./rbac_activityapis.html">Endpoints</a></li>
          <li><a href="./rbac_activityreporting.html">Activity reporting</a></li>
        </ul>
      </li>
    </ul>
  </li></ul>
  <ul class="pm-product-menu-item"><li>
    <ul class="pm-product-menu-item__children">
      <li><a href="./app_orchestration_overview.html">Application orchestration: Overview</a></li>
      <li class="has-children">
        <ul>
          <li><a href="./app_orchestration_workflow.html">Application orchestration workflow</a></li>
          <li><a href="./app_orchestration_app_definition.html">Creating application definitions</a></li>
          <li><a href="./app_orchestration_declare_instance.html">Declaring application instances</a></li>
          <li><a href="./app_orchestration_produce_consume.html">Producing and consuming service resources</a></li>
          <li><a href="./app_orchestration_writing_service_resources.html">Writing custom service resource types</a></li>
          <li><a href="./app_orchestration_availability_tests.html">Availability tests</a></li>
        </ul>
      </li>
    </ul>
  </li></ul>
  <ul class="pm-product-menu-item"><li>
    <ul class="pm-product-menu-item__children">
      <li><a href="./direct_puppet_workflow.html">Direct Puppet: a workflow</a></li>
      <li><a href="./orchestrator_intro.html">Puppet orchestrator: overview</a></li>
      <li><a href="./orchestrator_install.html">Configuring Puppet orchestrator</a></li>
      <li><a href="./orchestrator_app.html">Reviewing applications</a></li>
      <li><a href="./orchestrator_job_plan.html">Checking a Puppet job plan</a></li>
      <li><a href="./orchestrator_job_run.html">Running Puppet jobs</a></li>
      <li><a href="./orchestrator_job_status_view.html">Reviewing Puppet jobs</a></li>
      <li class="has-children">
        <ul>
          <li><a href="./orchestrator_api_endpoints.html">Endpoints</a></li>
          <li><a href="./orchestrator_api_requests.html">Forming requests</a></li>
          <li><a href="./orchestrator_api_commands.html">Commands</a></li>
          <li><a href="./orchestrator_api_events.html">Events</a></li>
          <li><a href="./orchestrator_api_jobs.html">Jobs</a></li>
          <li><a href="./orchestrator_api_root.html">Root</a></li>
          <li><a href="./orchestrator_api_errors.html">Errors</a></li>
        </ul>
      </li>
    </ul>
  </li></ul>
  <ul class="pm-product-menu-item"><li>
    <ul class="pm-product-menu-item__children">
      <li><a href="./cmgmt_managing_code.html">Managing and deploying Puppet code</a></li>
      <li><a href="./cmgmt_control_repo.html">Setting up a control repository</a></li>
      <li><a href="./cmgmt_puppetfile.html">Managing environment content with Puppetfiles</a></li>
      <li class="has-children">
        <ul>
          <li><a href="./code_mgr.html">Managing code with Code Manager</a></li>
          <li><a href="./code_mgr_config.html">Configuring Code Manager</a></li>
          <li><a href="./code_mgr_custom.html">Customizing Code Manager configuration</a></li>
          <li><a href="./code_mgr_cli.html">Triggering Code Manager from the command line</a></li>
          <li><a href="./code_mgr_webhook.html">Triggering Code Manager with a webhook</a></li>
          <li><a href="./code_mgr_scripts.html">Triggering Code Manager with custom scripts</a></li>
          <li><a href="./code_mgr_troubleshoot.html">Troubleshooting Code Manager</a></li>
        </ul>
      </li>
      <li class="has-children">
        <ul>
          <li><a href="./r10k.html">Managing code with r10k</a></li>
          <li><a href="./r10k_config.html">Configuring r10k</a></li>
          <li><a href="./r10k_custom.html">Customizing r10k configuration</a></li>
          <li><a href="./r10k_run.html">Deploying environments with r10k</a></li>
          <li><a href="./r10k_reference.html">r10k subcommand reference</a></li>
        </ul>
      </li>
      <li><a href="./cmgmt_filesync.html">About file sync</a></li>
    </ul>
  </li></ul>
  <ul class="pm-product-menu-item"><li>
    <ul class="pm-product-menu-item__children">
      <li><a href="./razor_intro.html">Bare-metal provisioning with Razor</a></li>
      <li><a href="./razor_prereqs.html">Setting up a Razor environment</a></li>
      <li><a href="./razor_install.html">Installing Razor</a></li>
      <li class="has-children">
        <ul>
          <li><a href="./razor_client_commands.html">Razor client commands</a></li>
        </ul>
      </li>
      <li><a href="./razor_brownfield.html">Protecting existing nodes</a></li>
      <li><a href="./razor_using.html">Provisioning a node</a></li>
      <li><a href="./razor_windows_install.html">Provisioning a Windows node</a></li>
      <li><a href="./razor_microkernel_extension.html">Provisioning with custom facts</a></li>
      <li class="has-children">
        <ul>
          <li><a href="./razor_repos.html">Repositories</a></li>
          <li><a href="./razor_tasks.html">Tasks</a></li>
          <li><a href="./razor_tags.html">Tags</a></li>
          <li><a href="./razor_policies.html">Policies</a></li>
          <li><a href="./razor_brokers.html">Brokers</a></li>
          <li><a href="./razor_hooks.html">Hooks</a></li>
        </ul>
      </li>
      <li class="has-children">
        <ul>
          <li><a href="./razor_reference.html">API reference</a></li>
        </ul>
      </li>
      <li><a href="./razor_upgrade.html">Upgrading Razor</a></li>
      <li><a href="./razor_uninstall.html">Uninstalling Razor</a></li>
    </ul>
  </li></ul>
  <ul class="pm-product-menu-item"><li>
    <ul class="pm-product-menu-item__children">
      <li class="has-children">
        <ul>
          <li><a href="./trouble_regenerate_certs_monolithic.html">Regenerating certs: mono</a></li>
          <li><a href="./trouble_regenerate_certs_split.html">Regenerating certs: splits</a></li>
        </ul>
      </li>
      <li class="has-children">
        <ul>
          <li><a href="./regenerate_certs_master.html">Regenerating certs for the Puppet master</a></li>
          <li><a href="./regenerate_certs_puppetdb.html">Regenerating certs for PuppetDB</a></li>
          <li><a href="./regenerate_certs_console.html">Regenerating certs for the PE console</a></li>
        </ul>
      </li>
      <li><a href="./agent_cert_regen.html">Regenerating a Puppet agent certificate</a></li>
      <li><a href="./compile_master_cert_regen.html">Regenerating a compile master certificate</a></li>
      <li><a href="./external_ca.html">Using an external certificate authority with PE</a></li>
      <li><a href="./custom_console_cert.html">Configuring the PE console to use a custom SSL certificate</a></li>
      <li><a href="./trouble_dh_generate.html">Custom Diffie-Hellman param file generation</a></li>
      <li><a href="./install_ssl_postgresql.html">SSL for PE and external PostgreSQL</a></li>
      <li><a href="./disable_tlsv1.html">Disable TLSV1 in PE</a></li>
    </ul>
  </li></ul>
  <ul class="pm-product-menu-item"><li>
    <ul class="pm-product-menu-item__children">
      <li><a href="./api_index.html">Index of Puppet APIs</a></li>
    </ul>
  </li></ul>
  <ul class="pm-product-menu-item"><li>
    <ul class="pm-product-menu-item__children">
      <li><a href="./mco_overview.html">Overview</a></li>
      <li><a href="./mco_invoke_cli.html">Invoking actions</a></li>
      <li><a href="./orchestration_puppet.html">Controlling Puppet</a></li>
      <li><a href="./mco_actions.html">List of built-in actions</a></li>
      <li><a href="./mco_adding_actions.html">Adding new actions</a></li>
      <li><a href="./mco_config.html">Configuring MCollective</a></li>
    </ul>
  </li></ul>
  <ul class="pm-product-menu-item"><li>
    <ul class="pm-product-menu-item__children">
      <li><a href="./maintain_console-db.html">PE database maintenance</a></li>
      <li><a href="./maintain_backup_restore.html">Back up and restore PE</a></li>
    </ul>
  </li></ul>
  <ul class="pm-product-menu-item"><li>
    <ul class="pm-product-menu-item__children">
      <li><a href="./trouble_install.html">Troubleshooting the installer</a></li>
      <li><a href="./trouble_comms.html">Troubleshooting connections</a></li>
      <li><a href="./code_mgr_troubleshoot.html">Troubleshooting Code Manager</a></li>
      <li><a href="./trouble_console-db.html">Troubleshooting the databases</a></li>
      <li><a href="./trouble_puppet.html">Troubleshooting Puppet core</a></li>
      <li><a href="./trouble_orchestration.html">Troubleshooting MCollective</a></li>
      <li><a href="./trouble_windows.html">Troubleshooting Windows</a></li>
    </ul>
  </li></ul>
  <ul class="pm-product-menu-item"><li>
    <ul class="pm-product-menu-item__children">
      <li><a href="./compliance_alt.html">Compliance alternate workflow</a></li>
    </ul>
  </li></ul>




</nav><main role="main" class="col-lg-9"><article role="article"><h1>Grouping and classifying nodes</h1>
<h2 id="types-of-node-groups">Types of node groups</h2>
<p>You can create two types of node groups:</p>
<ul>
  <li>
<strong>Environment node groups</strong>, which assign environments to nodes.</li>
  <li>
<strong>Classification node groups</strong>, which assign classification data to nodes.</li>
</ul>
<p>A node group assigns either environment <em>or</em> classification data, not both. The role of an environment node group is to set the environment, such as test, development, or production, for your nodes. The role of a classification node group is to assign classification data, such as classes, parameters, and variables, to nodes.</p>
<blockquote>
  <p><strong>Tip:</strong> For more information on using an environment-based workflow in the PE console, see <a href="./console_classes_groups_environment_override.html">Working With Environments</a>.</p>
</blockquote>
<blockquote>
  <p><strong>Important</strong>: The node classifier uses role-based access control (RBAC) to manage access to tasks, including the tasks described on this page. For info about managing access, see the <a href="./rbac_intro.html">RBAC documentation</a>.</p>
</blockquote>
<h2 id="preconfigured-environment-node-groups">Preconfigured environment node groups</h2>
<p>To help you manage your infrastructure, PE comes with several preconfigured node groups, including two environment node groups:</p>
<ul>
  <li>The <strong>Production environment</strong> group comes with a rule that matches all nodes, and assigns the production environment. This means your nodes will default to the production environment unless you specify otherwise.</li>
  <li>The <strong>Agent-specified environment</strong> group matches no nodes by default. This group doesn’t assign an environment, so nodes that you add to the group use the environment from their config file. Add nodes to this group if you need them to preserve their agent-specified environment.</li>
</ul>
<p>For more information about these and other preconfigured node groups, see <a href="./console_classes_groups_preconfigured_groups.html">Preconfigured Node Groups</a>.</p>
<h2 id="creating-environment-node-groups">Creating environment node groups</h2>
<p>Create environment node groups so that your nodes aren’t all in the production environment.</p>
<ol>
  <li>In the console, click <strong>Nodes</strong> &gt; <strong>Classification</strong>, and click <strong>Add group</strong>.</li>
  <li>Specify options for the new node group:
    <ul>
      <li>
<strong>Parent name</strong> – Select <strong>Production environment</strong>. Every environment node group you add must be a descendent of this group. This lets the new group inherit the ability to override a member node’s agent-specified environment setting.</li>
      <li>
<strong>Group name</strong> – Enter a name that describes the role of this environment node group, for example, <em>Test environment</em>.</li>
      <li>
<strong>Environment</strong> – Select the environment that you want to assign to nodes that match this node group. If you haven’t <a href="/puppet/4.10/environments_creating.html">created environments</a> yet, you see only the  <strong>production</strong> and <strong>agent-specified</strong> environments.</li>
      <li>
<strong>Environment group</strong> – Select this option.</li>
    </ul>
  </li>
  <li>Click <strong>Add</strong>.</li>
</ol>
<p>You can now add nodes to your environment node group to control which environment each node belongs to.</p>
<h2 id="creating-classification-node-groups">Creating classification node groups</h2>
<ol>
  <li>In the console, click <strong>Nodes</strong> &gt; <strong>Classification</strong>, and click <strong>Add group</strong>.</li>
  <li>Specify options for the new node group:
    <ul>
      <li>
        <p><strong>Parent name</strong> – Select the name of the classification node group that you want to set as the parent to this node group. Classification node groups inherit classes, parameters, and variables from their parent node group. By default, the parent node group is the <strong>All Nodes</strong> node group.</p>

        <blockquote>
          <p><strong>Tip:</strong> Node group inheritance allows you to assign a class once in a parent node group and avoid assigning it in each descendent node group. For more information about node group inheritance, see <a href="./console_classes_groups_inheritance.html">How Does Inheritance Work?</a></p>
        </blockquote>
      </li>
      <li>
        <p><strong>Group name</strong> – Enter a name that describes the role of this classification node group, for example, <em>Web Servers</em>.</p>
      </li>
      <li>
        <p><strong>Environment</strong> – Specify an environment to limit the classes and parameters available for selection in this node group.</p>

        <blockquote>
          <p><strong>Note:</strong> Specifying an environment in a <em>classification</em> node group doesn’t assign an environment to any nodes, as it does in an <a href="#creating-environment-node-groups">environment node group</a>.</p>
        </blockquote>
      </li>
      <li>
        <p><strong>Environment group</strong> – <em>Do not</em> select this option.</p>
      </li>
    </ul>
  </li>
  <li>Click <strong>Add</strong>.</li>
</ol>
<p>You can now add nodes to your classification node group <a href="#adding-nodes-dynamically">dynamically</a> or <a href="#adding-nodes-statically">statically</a>. After that, you can specify the Puppet classes you want to apply to the nodes in the classification node group.</p>
<p>To change a classification node group later, see:</p>
<ul>
  <li><a href="./console_classes_groups_making_changes.html#editing-node-groups">Editing node groups</a></li>
  <li><a href="./console_classes_groups_making_changes.html#deleting-node-groups">Deleting node groups</a></li>
</ul>
<h2 id="adding-nodes-to-a-node-group">Adding nodes to a node group</h2>
<p>There are two ways to add nodes to a node group:</p>
<ol>
  <li>
    <p>Create rules that match node facts (dynamic)</p>
  </li>
  <li>
    <p>Individually pin nodes to the node group (static)</p>
  </li>
</ol>
<h3 id="adding-nodes-dynamically">Adding nodes dynamically</h3>
<p>Rules are the most powerful and scalable way to include nodes in a node group. You can create rules in a node group that are used to match <a href="/facter/3.6/core_facts.html">node facts</a>. When nodes match the rules in a node group, they’re classified with all of the classification data (classes, parameters, and variables) for the node group.</p>
<p>When nodes no longer match the rules of a node group, the classification data for that node group no longer applies to the node.</p>
<p><strong>To add a rule:</strong></p>
<ol>
  <li>
    <p>In the console, click <strong>Nodes</strong> &gt; <strong>Classification</strong>, and then find the node group that you want to add the rule to and select it.</p>
  </li>
  <li>
    <p>On the <strong>Rules</strong> tab, specify rules for the fact, then click <strong>Add rule</strong>.</p>

    <table>
  <tr>
    <th>Option</th>
    <th>Definition</th>
  </tr>
  <tr>
    <td><b>Fact</b></td>
    <td>
<p> Specifies the fact used to match nodes.</p>
     <p>Select from the list of known facts, or enter part of a string to view fuzzy matches.</p>
     <p>To use structured or trusted facts, select the initial value from the dropdown list, then type the rest of the fact.</p>
     <p>
     </p>
<ul>
      <li>To descend into a hash, use dots (".") to designate path segments, such as <code>os.release.major</code> or <code>trusted.certname</code>.</li>
      <li>To specify an item in an array, surround the numerical index of the item in square brackets, such as <code>processors.models[0]</code> or <code>mountpoints./.options[0]</code>.</li>
      <li>To identify path segments that contain dots or UTF-8 characters, surround the segment with single or double quotes, such as <code>trusted.extensions."1.3.6.1.4.1.34380.1.2.1"</code>.</li>
      <li>To use trusted extension short names, append the short name after a second dot, such as <code>trusted.extensions.pp_role</code>.</li>
      </ul>
      <p><b>Tip</b>: Structured and trusted facts don't provide type-ahead suggestions beyond the top-level name key, and the facts aren't verified when entered. After adding a rule for a structured or trusted fact, review the number of matching nodes to verify that the fact was entered correctly.</p>
</td>
  </tr>
  <tr>
    <td><b>Operator</b></td>
    <td>
<p>Describes the relationship between the fact and value.</p>
     <p>Operators include:
     </p>
<ul>
      <li>
<b>=</b> — is</li>
      <li>
<b>!=</b> — is not</li>
      <li>
<b>~</b> — matches regex</li>
      <li>
<b>!~</b> — does not match regex</li>
      <li>
<b>&gt;</b> — greater than</li>
      <li>
<b>&gt;=</b> — greater than or equal to</li>
      <li>
<b>&lt;</b> — less than</li>
      <li>
<b>&lt;=</b> — less than or equal to</li>
      </ul>
      <p>The numeric operators <b>&gt;</b>, <b>&gt;=</b>, <b>&lt;</b>, and <b>&lt;=</b> can be used only with facts that have a numeric value.</p>
     <p>To match highly specific node facts, use <b>~</b> or <b>!~</b> with a regular expression for <b>Value</b>.</p>
</td>
  </tr>
  <tr>
    <td><b>Value</b></td>
    <td>Specifies the value associated with the fact.</td>
  </tr>
</table>
  </li>
  <li>
    <p>(Optional) Repeat step 2 as needed to add more rules.</p>

    <blockquote>
      <p><strong>Tip</strong>: If the node group includes multiple rules, be sure to specify whether nodes are added when they match <strong>All</strong> or <strong>Any</strong> of the rules.</p>
    </blockquote>
  </li>
  <li>
    <p>Commit changes.</p>
  </li>
</ol>
<h4 id="using-structured-and-trusted-facts-for-node-group-rules">Using structured and trusted facts for node group rules</h4>
<p><a href="/facter/3.6/fact_overview.html#writing-structured-facts">Structured facts</a> group a set of related facts in the form of a hash or array. For example, the structured fact <code>os</code> includes multiple independent facts about the operating system, including architecture, family, and release. In the console, when you view facts about a node, you can differentiate structured facts because they’re surrounded by curly braces.</p>
<p><a href="/puppet/4.10/lang_facts_and_builtin_vars.html#trusted-facts">Trusted facts</a> are a specific type of structured fact where the facts are immutable and extracted from a node’s certificate. Because they can’t be changed or overridden, trusted facts enhance security by verifying a node’s identity before sending sensitive data in its catalog. For details, see <a href="/puppet/4.10/config_file_oid_map.html#more-about-certificate-extensions">More about certificate extensions</a>.</p>
<p>You can use structured and trusted facts in the console to <a href="#adding-nodes-dynamically">dynamically add nodes to groups</a>.</p>
<p><strong>Note</strong>: If you’re using trusted facts to specify certificate extensions, in order for nodes to match to rules correctly, you must use short names for <a href="/puppet/4.10/ssl_attributes_extensions.html#puppet-specific-registered-ids">Puppet-specific registered IDs</a> and numeric IDs for <a href="/puppet/4.10/ssl_attributes_extensions.html#recommended-oids-for-extensions">private extensions</a>. Numeric IDs are required for private extensions whether or not you specify a short name in the <code>custom_trusted_oid_mapping.yaml</code> file.</p>
<h3 id="adding-nodes-statically">Adding nodes statically</h3>
<p>If you have a node that needs to be in a node group regardless of the rules that have been specified for that node group, you can <em>pin</em> the node to the node group. A pinned node is not affected by rules and will remain in the node group until you manually remove it. Adding a pinned node essentially creates the rule <code>&lt;the certname of your node&gt;</code> <strong>=</strong> <code>&lt;the certname&gt;</code>, and includes this rule along with the other fact-based rules.</p>
<p><strong>To pin a node to a node group:</strong></p>
<ol>
  <li>
    <p>In the console, click <strong>Nodes</strong> &gt; <strong>Classification</strong>, and then find the node group that you want to pin a node to and select it.</p>
  </li>
  <li>
    <p>On the <strong>Rules</strong> tab, in the pinned nodes section, enter the <a href="/puppet/4.10/configuration.html#certname"><strong>Certname</strong></a> of the node.</p>
  </li>
  <li>
    <p>Click <strong>Pin node</strong>, and then commit changes.</p>
  </li>
</ol>
<p><a href="./console_classes_groups_making_changes.html#removing-nodes-from-a-node-group">Removing Nodes From a Node Group</a></p>
<h2 id="adding-classes-to-a-node-group">Adding classes to a node group</h2>
<p><a href="/puppet/4.10/lang_classes.html">Classes</a> are the blocks of Puppet code used to configure your nodes and assign resources to them. To add a class to a node classification group, first create the class in a module. You’ll then need to install the module.</p>
<blockquote>
  <p><strong>Creating Puppet classes</strong></p>

  <p>Before you can add a class to a node group, you need to make the class available to the Puppet master. This means that the class must be located in an installed <a href="/puppet/4.10/modules_fundamentals.html">module</a>. There are two ways to get modules:</p>

  <ol>
    <li>
      <p><a href="http://forge.puppetlabs.com">Download modules from the Puppet Forge</a>. In addition to the many public modules that are available, the Puppet Forge also provides supported modules and approved modules. Supported modules are rigorously tested with PE and are supported by Puppet via the usual <a href="http://puppet.com/services/customer-support">support channels</a>. Approved modules have passed Puppet’s quality and reliability standards and are recommended by Puppet for use with PE.</p>
    </li>
    <li>
      <p><a href="/puppet/4.10/lang_classes.html">Write your own classes</a>, and put them in a <a href="/puppet/4.10/modules_fundamentals.html">module</a>.</p>
    </li>
  </ol>

  <p><strong>Tip:</strong> If you are new to Puppet and have not written Puppet code before, <a href="/learning/">follow the Learning Puppet tutorial</a>, which walks you through the basics of Puppet code, classes, and modules.</p>
</blockquote>
<p><strong>To add a class to a node group:</strong></p>
<ol>
  <li>
    <p>In the console, click <strong>Nodes</strong> &gt; <strong>Classification</strong>, and then find the node group that you want to add the class to and select it.</p>
  </li>
  <li>
    <p>On the <strong>Classes</strong> tab, in the <strong>Add new class</strong> field, select the class to add.</p>

    <p>The <strong>Add new class</strong> field suggests classes that the Puppet master knows about and that are available in the environment set for the node group. The list filters as you type. You can enter substrings from anywhere within the class name.</p>
  </li>
  <li>
    <p>Click <strong>Add class</strong> and then commit changes.</p>
  </li>
</ol>
<blockquote>
  <p><strong>Note:</strong> If you created a new class within the last three minutes, it may not appear in the list of available classes yet. There are two things that need to happen before the class appears in the list:</p>

  <ol>
    <li>
      <p>The node classifier needs to retrieve classes from the master. (By default, the node classifier retrieves classes from the master every 3 minutes. To change the default setting, see <a href="./console_config.html#tuning-the-classifier-synchronization-period">Configuring and Tuning the Console</a>).</p>
    </li>
    <li>
      <p>The <a href="/puppet/4.10/configuration.html#environmenttimeout">environment cache needs to refresh</a>. (By default, the environment cache refreshes every 3 minutes.)</p>
    </li>
  </ol>

  <p>To override the default refresh period and force the node classifier to retrieve the classes from the master immediately, click the <strong>Refresh</strong> button.</p>
</blockquote>
<p><a href="./console_classes_groups_making_changes.html#removing-classes-from-a-node-group">Removing classes from a node group</a></p>
<h2 id="defining-the-data-used-by-classes">Defining the data used by classes</h2>
<p>You can use either parameters or variables to define the data used by classes. Parameters are scoped to the class, while variables are scoped to the node group.</p>
<h3 id="setting-class-parameters">Setting class parameters</h3>
<p>Classes will automatically use default parameters and values, or parameters and values inherited from parent node groups. However, if the nodes in a node group need to be an exception to the general case, you can override default and parent values by specifying new parameter values.</p>
<p><strong>To add a parameter:</strong></p>
<ol>
  <li>
    <p>In the console, click <strong>Nodes</strong> &gt; <strong>Classification</strong>, and then find the node group that you want to add a parameter to and select it.</p>
  </li>
  <li>
    <p>On the <strong>Classes</strong> tab, click the <strong>Parameter name</strong> drop-down list under the appropriate class and select the parameter to add. The drop-down list shows all of the parameters that are available in the node group’s environment.</p>
  </li>
  <li>
    <p>(Optional) Change the default <strong>Value</strong>. When you select a parameter, the <strong>Value</strong> field is automatically populated with the default value.</p>
  </li>
</ol>
<blockquote>
  <p><strong>Tips on specifying parameter and variable values</strong></p>

  <p>Parameters and variables can be structured as JSON. If they cannot be parsed as JSON, they will be treated as strings.</p>

  <p>Parameters and variables can be specified using the following data types and syntax:</p>

  <ul>
    <li>Strings (e.g. <code>"centos"</code>)
      <ul>
        <li>Variable-style syntax, which interpolates the result of referencing a fact (e.g. <code>"I live at $ipaddress."</code>)</li>
        <li>Expression-style syntax, which interpolates the result of evaluating the embedded expression (e.g. <code>${$os["release"]["full"]}</code>)</li>
      </ul>
    </li>
    <li>Booleans (e.g. <code>true</code> or <code>false</code>)</li>
    <li>Numbers (e.g. <code>123</code>)</li>
    <li>Hashes (e.g. <code>{"a": 1}</code>)</li>
    <li>Arrays (e.g. <code>["1","2.3"]</code>)</li>
  </ul>

  <p><strong>Variable-style syntax</strong></p>

  <p>Variable-style syntax uses a dollar sign ($) followed by a Puppet fact name.</p>

  <p>Example: <code>"I live at $ipaddress"</code></p>

  <p>Variable-style syntax is interpolated as the value of the fact. For example, <code>$ipaddress</code> resolves to the value of the <code>ipaddress</code> fact.</p>

  <p>Indexing cannot be used in variable-style syntax because the indices are treated as part of the string literal. For example, given the following fact:</p>

  <p><code>processors =&gt; {"count" =&gt; 4, "physicalcount" =&gt; 1}</code>,</p>

  <p>if you use variable-style syntax to specify <code>$processors[count]</code>, the value of the <code>processors</code> fact is interpolated but it is followed by a literal “[count]”. After interpolation, this example becomes <code>{"count" =&gt; 4,"physicalcount" =&gt; 1}[count]</code>.</p>

  <p><strong>Note:</strong> Do not use the <code>::</code> top-level scope indication because the console is not aware of Puppet’s variable scope.</p>

  <p><strong>Expression-style syntax</strong></p>

  <p>Use expression-style syntax when you need to index into a fact (<code>${$os[release]}</code>), refer to trusted facts (<code>"My name is ${trusted[certname]}"</code>), or delimit fact names from strings (<code>"My ${os} release"</code>).</p>

  <p>The following is an example of using expression-style syntax to access the full release number of an operating system:</p>

  <pre><code>	${$os["release"]["full"]}
</code></pre>

  <p>Expression-style syntax uses:</p>

  <ul>
    <li>an initial dollar sign and curly brace (<code>${</code>), followed by</li>
    <li>a legal Puppet fact name preceded by an optional dollar sign, followed by</li>
    <li>any number of index expressions (the quotations around indices are optional but are required if the index string contains spaces or square brackets), followed by</li>
    <li>a closing curly brace (<code>}</code>).</li>
  </ul>

  <p>Indices in expression-style syntax can be used to access individual fields of structured facts, or to refer to trusted facts. Use strings in an index if you want to access the keys of a hashmap. If you want to access a particular item or character in an array or string based on the order in which it is listed, you can use an integer (zero-indexed).</p>

  <p>Examples of legal expression-style interpolation:</p>

  <ul>
    <li><code>${os}</code></li>
    <li><code>${$os}</code></li>
    <li><code>${$os[release]}</code></li>
    <li><code>${$os['release']}</code></li>
    <li><code>${$os["release"]}</code></li>
    <li>
<code>${$os[2]}</code> (accesses the value of the third (zero-indexed) key-value pair in the <code>os</code> hash)</li>
    <li>
<code>${$os[release][2]}</code> (accesses the value of the third key-value pair in the <code>release</code> hash)</li>
  </ul>

  <p>In the PE console, an index can only be simple string literals or decimal integer literals. An index cannot include variables or operations (such as string concatenation or integer arithmetic).</p>

  <p>Examples of illegal expression-style interpolation:</p>

  <ul>
    <li><code>${$::os}</code></li>
    <li><code>{$os[$release]}</code></li>
    <li><code>${$os[0xff]}</code></li>
    <li><code>${$os[6/3]}</code></li>
    <li><code>${$os[$family + $release]}</code></li>
    <li><code>${$os + $release}</code></li>
  </ul>

  <p><strong>Trusted facts</strong></p>

  <p>Trusted facts are considered to be keys of a hashmap called <code>trusted</code>. This means that all trusted facts must be interpolated using expression-style syntax. For example, the certname trusted fact would be expressed like this: <code>"My name is ${trusted[certname]}"</code>. Any trusted facts that are themselves structured facts can have further index expressions to access individual fields of that trusted fact. For an overview of trusted facts, see the <a href="/puppet/4.10/lang_facts_and_builtin_vars.html#trusted-facts">Puppet Reference Manual</a>.</p>

  <p><strong>Note:</strong> Regular expressions, resource references, and other keywords (such as ‘undef’) are not supported.</p>
</blockquote>
<p><a href="./console_classes_groups_making_changes.html#editing-parameters">Editing Parameters</a></p>
<p><a href="./console_classes_groups_making_changes.html#deleting-parameters">Deleting Parameters</a></p>
<h3 id="setting-variables">Setting variables</h3>
<p>Variables set in the console become <a href="/puppet/4.10/lang_scope.html#top-scope">top-scope variables available to all Puppet manifests</a>. When you define a variable, any class in the node group that references the variable will be given the value that you set here.</p>
<p><strong>To set a variable:</strong></p>
<ol>
  <li>
    <p>In the console, click <strong>Nodes</strong> &gt; <strong>Classification</strong>, and then find the node group that you want to set a variable for and select it.</p>
  </li>
  <li>
    <p>On the <strong>Variables</strong> tab, enter options for the variable:</p>

    <ul>
      <li>
        <p><strong>Key</strong> – Enter the name of the variable.</p>
      </li>
      <li>
        <p><strong>Value</strong> – Enter the value that you want to assign to the variable.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>Click <strong>Add variable</strong>, and then commit changes.</p>
  </li>
</ol>
<blockquote>
  <p><strong>Note</strong>: For information on the permitted syntax for specifying variable values, see “Tips on specifying parameter and variable values” in <a href="#setting-class-parameters">Setting Class Parameters</a>.</p>
</blockquote>
<blockquote>
  <p><strong>Note:</strong> Nodes can match multiple node groups, and node groups are not necessarily arranged in a strict hierarchy. It is therefore possible for two equal node groups to contribute conflicting values for variables and class parameters. Conflicting values will cause a Puppet run on an agent to fail.</p>
</blockquote>
<p><a href="./console_classes_groups_making_changes.html#editing-variables">Editing variables</a></p>
<p><a href="./console_classes_groups_making_changes.html#deleting-variables">Deleting variables</a></p>
<h2 id="viewing-the-nodes-that-are-in-a-node-group">Viewing the nodes that are in a node group</h2>
<p>To view all nodes that currently match the rules specified for a node group:</p>
<ol>
  <li>
    <p>In the console, click <strong>Nodes</strong> &gt; <strong>Classification</strong>, and then find the node group that you want to view and select it.</p>
  </li>
  <li>
    <p>Click <strong>Matching nodes</strong>.</p>

    <p>You see the number of nodes that match the node group’s rules, along with a list of the names of matching nodes. This is based on the facts collected during the node’s last Puppet run. The matching nodes list is updated as rules are added, deleted, and edited. Don’t forget that <a href="./console_classes_groups_inheritance.html">nodes must match rules in ancestor node groups</a> as well as the rules of the current node group before they are actually considered to be a matching node.</p>
  </li>
</ol>
<blockquote>
  <p><strong>Note</strong>: If you have not set any rules for this node group yet, there will not be any matching nodes.</p>
</blockquote>
<h3 id="viewing-the-nodes-managed-by-puppet">Viewing the nodes managed by Puppet</h3>
<p>To view the total number of nodes currently being managed by Puppet, go to <strong>Nodes</strong> &gt; <strong>Inventory</strong>. At the top of the page, you will see the number of nodes that have checked in with a Puppet master since the <a href="/puppetdb/4.2/maintain_and_tune.html#clean-up-old-reports">last deletion of data from PuppetDB</a>.</p>
<p>This page also shows a list of the managed nodes.</p></article><div class="docs-feedback-inpage is-hidden" id="docs-feedback-inpage">

  <p>To send us feedback or let us know about a docs error, <a href="#">open a ticket</a> (you need a Jira account) or leave a comment.</p>

  <div class="pm-docs-feedback-form pm-margin-bottom--xl pm-margin-top--xl">

    <form name="docs-feedback-form" method="post" data-netlify="true">
      <div class="pm-margin-top--sm">
        <label class="pm-docs-feedback-form__instructions">
          Send feedback to the Docs team:
          <div class="pm-input">
            <div class="rc-input-container">
              <textarea id="comment" name="comment" class="rc-input rc-input-multiline" placeholder="What should we know about this page?"></textarea>
            </div>
          </div>
        </label>

        <label class="pm-docs-feedback-form__instructions">
          Email Address:
          <div class="pm-input">
            <div class="rc-input-container">
              <input type="email" id="email" name="email" class="rc-input" value="" placeholder="Where can we reach you to follow up?">
            </div>
          </div>
        </label>
      </div>
<!-- End pm-margin-top-/-sm -->

      <button class="pm-button pm-button--blue">Submit</button>

      <p class="pm-margin-top--sm">
        If you leave us your email, we may contact you regarding your feedback.
        For more information on how Puppet uses your personal information, see
        our
        <a href="https://puppet.com/legal/privacy-policy/" rel="noopener noreferrer" class="pm-link">privacy policy</a>.
      </p>

      <input type="hidden" name="subject" value="">

      <input type="hidden" id="url" name="url" class="rc-input" value="" placeholder="">

      <input type="hidden" id="form-name" name="form-name" class="rc-input" value="docs-feedback-form" placeholder="">

      <input type="hidden" id="comment" name="comment" class="rc-input" value="" placeholder="">

      <input type="hidden" id="email" name="email" class="rc-input" value="" placeholder="">
    </form>
  </div>
<!-- End pm-docs-feedback-form -->
</div>
<!-- End docs-feedback-inpage -->
</main>
</div></div>
<div class="pm-site-footer">
  <div class="container pm-site-footer__wrapper">
    <section>
      <div class="pm-site-footer__content">
        <div class="pm-site-footer__logo">
          <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 560.7 198.2" focusable="false">
            <path d="M99.1 99.1V53.5H64.2L45.6 34.8V0H0v45.6h34.9l18.7 18.7v24.1l-18.7 18.7H0v45.6h45.6v-34.8l18.7-18.7h34.8zM15.2 15.2h15.2v15.2H15.2zm15.2 122.2H15.2v-15.2h15.2z" fill="#ffae1a"></path>
            <path d="M149.6 198.2h-20.1V99.1h20.1v6c3.2-3.9 10.4-7.6 18.1-7.6 21.1 0 33 17.5 33 37.9s-12 37.7-33 37.7c-7.8 0-14.9-3.7-18.1-7.6v32.7zm0-51a15.23 15.23 0 0013.6 8.4c10.9 0 17.3-8.7 17.3-20.2 0-11.7-6.5-20.4-17.3-20.4a15.37 15.37 0 00-13.6 8.4zm124 24.3h-20.1v-6.6a26.24 26.24 0 01-19.4 8.3c-16.2 0-25.4-10.7-25.4-26.7V99.2h20.1v43.2c0 7.6 3.7 12.8 11.7 12.8 6.2 0 11.5-3.7 13-10v-46h20.2v72.3zm33.4 26.7h-20.1V99.1H307v6c3.2-3.9 10.4-7.6 18.1-7.6 21.1 0 33 17.5 33 37.9s-12 37.7-33 37.7c-7.8 0-14.9-3.7-18.1-7.6v32.7zm0-51a15.23 15.23 0 0013.6 8.4c10.9 0 17.3-8.7 17.3-20.2 0-11.7-6.5-20.4-17.3-20.4a15.37 15.37 0 00-13.6 8.4zm80 51h-20.1V99.1H387v6c3.2-3.9 10.4-7.6 18.1-7.6 21.1 0 33 17.5 33 37.9s-12 37.7-33 37.7c-7.8 0-14.9-3.7-18.1-7.6v32.7zm0-51a15.23 15.23 0 0013.6 8.4c10.9 0 17.3-8.7 17.3-20.2 0-11.7-6.5-20.4-17.3-20.4a15.37 15.37 0 00-13.6 8.4zm123.2.6c-2.6 15.4-13.9 25.3-32.1 25.3-21.1 0-35.1-15.4-35.1-37.7 0-21.9 14.6-37.9 34.8-37.9 21.2 0 32.9 14.7 32.9 36v6.2h-48.3c.6 10.9 6.8 17.3 15.7 17.3 6.8 0 11.8-2.9 13.4-9.1h18.7zm-47.3-20.4h28c-.2-7.6-4.7-13.6-13-13.6-7.7 0-13.2 4.7-15 13.6zm60.9-12.1h-11V99.1h11V79.5h19.9v19.6h15.9v16.2h-15.9V147c0 5.7 3.1 8.3 8.3 8.3a17.36 17.36 0 008.7-2.4v17.8c-2.8 1.5-7.6 2.3-13 2.3-14.7 0-24-7.3-24-23.3v-34.4z" fill="#fff"></path>
          </svg>
        </div>
        <div class="pm-site-footer__content-text">
          <p class="text">Puppet automates the delivery and operation of the software that powers some of the biggest brands in the world.</p>
        </div>
      </div>
    </section>
    <section>
      <div class="pm-site-footer__navs">
        <div class="pm-site-footer__legal-menu legal footer-nav"><ul class="pm-site-footer__legal-menu__items items">
<li class="item"><a href="/legal/">Legal</a></li>
<li class="item"><a href="/legal/privacy-policy/">Privacy Policy</a></li>
<li class="item"><a href="/legal/terms-of-use/">Terms of Use</a></li>
<li class="item"><a href="/security/">Security</a></li>
</ul></div>
<!-- Content generated with JS -->
        <div class="pm-site-footer__coda-menu coda footer-nav"><ul class="pm-site-footer__coda-menu__items items">
<li class="item"><a href="/sitemap/">Sitemap © 2020</a></li>
<li class="item"><a href="/">Puppet</a></li>
</ul></div>
<!-- Content generated with JS -->
      </div>
    </section>
  </div>
<!-- End pm-site-footer__wrapper -->
</div>
<!-- End pm-site-footer -->
<script src="https://puppet-docs-herrera.netlify.app/js/docs.js"></script>
</body>
</html>
